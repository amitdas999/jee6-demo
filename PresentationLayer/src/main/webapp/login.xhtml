<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:c="http://java.sun.com/jsp/jstl/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:p="http://primefaces.org/ui"
   template="/xhtml/templates/layout.xhtml">

   <ui:define name="title"> 
      #{msgs.loginTitle}
   </ui:define>

   <ui:define name="content">

      <h:form id="login" prependId="false"
         onsubmit="setvalue(); document.#{p:component('login')}.action='j_security_check';">
         <h:panelGrid id="loginGrid" columns="3">
            <h:outputText for="j_username" value="${msgs.username}" />
            <p:inputText id="j_username" required="true">
               <f:validateLength minimum="4" />
               <f:validateRequired />
               <p:ajax event="blur" update="msgj_username" />
            </p:inputText>
            <h:message id="msgj_username" for="j_username" />

            <h:outputText for="password" value="${msgs.password}" />
            <p:password id="password" required="true">
               <f:validateLength minimum="4" />
               <f:validateRequired />
               <p:ajax event="blur" update="msgj_password" />
            </p:password>
            <h:message id="msgj_password" for="password" />

            <h:inputHidden id="j_password" />

            <p:commandButton
               onclick="document.#{component.clientId}.action='j_security_check';"
               value="${msgs.login}" />

         </h:panelGrid>
      </h:form>
      <script type="text/javascript">
          function setvalue() {
              var pass = document.getElementById('password_input').value;
               document.getElementById('j_password').value = pass;
           }
      </script>
   </ui:define>
</ui:composition>